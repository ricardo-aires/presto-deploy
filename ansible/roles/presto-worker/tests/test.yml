---
- hosts: all
  become: true

  tasks:
    - name: apply discovery-server role
      include_role:
        name: discovery-server
      when: "'discovery_server' in group_names"
    - name: apply presto-coordinator role
      include_role:
        name: presto-coordinator
      when: "'presto_coordinator' in group_names"
    - name: apply presto-worker role
      include_role:
        name: presto-worker
      when: "'presto_workers' in group_names"